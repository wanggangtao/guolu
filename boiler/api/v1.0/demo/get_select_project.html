<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>接口137:获取查询项目</title>
    <script type="text/javascript" src="js/jquery.1.9.1.min.js"></script>
    <script type="text/javascript" src="js/func.common.js"></script>
    <script type="text/javascript" src="js/func.js"></script>
    <script type="text/javascript" src="js/jquery.md5.js">//$.md5()</script>
    <script type="text/javascript" src="js/jquery.base64.js">//$.base64.encode()</script>
    <script src="js/c.js" type="text/javascript"></script>
    <script src="js/urchin.js" type="text/javascript"></script>
    <link href="css/s.css" type="text/css" rel="stylesheet">
    <link href="css/base.css" type="text/css" rel="stylesheet">
    <script type="text/javascript">
        $(function(){
            $('#btn').click(function(){
                var method = $('input[name="method"]').val();
                var uid = $('input[name="uid"]').val();
                var page = $('input[name="page"]').val();
                var pageSize = $('input[name="pageSize"]').val();
                var name = $('input[name="name"]').val();
                var startDate = $('input[name="startDate"]').val();
                var endDate = $('input[name="endDate"]').val();
                var type = $('#type').val();
                var level = $('#level').val();
                var projectuser = $('input[name="projectuser"]').val();

                var timestamp = $('input[name="timestamp"]').val();

                var source = $('#source').val();
                var secret = "boiler_android";
                if(source==3)
                {
                    secret = "boiler_ios";
                }
                var sign = $.md5(method+timestamp+source+secret);
                $('#sign').val(sign);
                $.ajax({
                    type         : 'POST',
                    data         : {
                        method :method,
                        uid   : uid,
                        page:page,
                        pageSize:pageSize,
                        level : level,
                        type : type,
                        name:name,
                        projectuser:projectuser,
                        startDate:startDate,
                        endDate:endDate,

                        timestamp :timestamp,
                        source   : source,
                        sign   : sign
                    },
                    url : "../api.php",
                    beforeSend :  function(data){
                        $('#Canvas').html('<p>请求处理中...</p>');
                    },
                    success :     function(data){
                        Process(data);
                    },
                    error :       function(request, errtext, e){
                        $('#Canvas').html('<p><b>发生错误</b></p><p>'+request.status+'<br/>'+errtext+'</p>');
                    }
                });
            });
        });
    </script>
</head>
<body>
<div id="head"><p>接口137:获取查询项目</p></div>
<div id="content">
    <div id="left">
        <div class ="message"><p>接口返回：</p></div>
        <div id="Canvas" class="Canvas"></div>
    </div>
    <div id="right">
        <div class ="message"><p>请求数据：</p></div>
        <form>
            <p>
                <span>method:</span>
                <input type="text" class="input-text"  name="method" value="get_select_project"/>
            </p>
            <p>
                <span>uid:</span>
                <input type="text" class="input-text"  name="uid"/>
            </p>


            <p>
                <span>name:</span>
                <input type="text" class="input-text"  name="name"/>
            </p>
            <p>
                <span>projectuser:</span>
                <input type="text" class="input-text"  name="projectuser"/>
            </p>
            <p>
                <span>type：</span>
                <select id="type" class="select" name="type">
                    <option value="0">全部</option>
                    <option value="1">商用锅炉</option>
                    <option value="2">壁挂炉</option>
                    <option value="3">燃烧机更换</option>
                </select>
            </p>

            <p>
                <span>level：</span>
                <select id="level" class="select" name="level">
                    <option value="-1">全部</option>
                    <option value="0">未报备</option>
                    <option value="11">项目终止</option>
                    <option value="1">1星</option>
                    <option value="2">2星</option>
                    <option value="3">3星</option>
                    <option value="4">4星</option>
                    <option value="5">5星</option>
                </select>
            </p>
            <p>
                <span>page:</span>
                <input type="text" class="input-text"  name="page"/>
            </p>
            <p>
                <span>pageSize:</span>
                <input type="text" class="input-text"  name="pageSize"/>
            </p>

            <p>
                <span>startDate:</span>
                <input type="text" class="input-text"  name="startDate" placeHolder="2018-07-02"/>
            </p>

            <p>
                <span>endDate:</span>
                <input type="text" class="input-text"  name="endDate" placeHolder="2018-07-05"/>
            </p>

            <p>
                <span>name:</span>
                <input type="text" class="input-text"  name="name"/>
            </p>

            <p>
                <span>timestamp:</span>
                <input type="text" class="input-text"  name="timestamp" value="11111111"/>
            </p>

            <p>
                <span>来源：</span>
                <select id="source" class="select">
                    <option value="2">android</option>
                    <option value="3">ios</option>
                </select>
            </p>
            <p><span>校验码：</span><input type="text" class="input-text" id="sign" readonly/></p>
            <p><button class="button success small" id="btn" type="button">发送请求</button></p>
        </form>
    </div>
</div>


</body>
</html>
